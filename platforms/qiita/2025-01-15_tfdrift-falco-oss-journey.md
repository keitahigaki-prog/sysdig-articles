# Terraformã®Driftæ¤œçŸ¥ã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ åŒ–ã™ã‚‹OSSã‚’ä½œã£ãŸè©±

## ã¯ã˜ã‚ã«

ã“ã‚“ã«ã¡ã¯ã€[@keitah0322](https://x.com/keitah0322)ã§ã™ã€‚

ã€ŒAWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§èª°ã‹ãŒã“ã£ãã‚Šã‚¤ãƒ³ãƒ•ãƒ©å¤‰æ›´ã—ã¦ãŸ...ã€ã¨ã„ã†çµŒé¨“ã€ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ

Terraformã§ Infrastructure as Code (IaC) ã‚’å®Ÿè·µã—ã¦ã„ã¦ã‚‚ã€**æ‰‹å‹•å¤‰æ›´ï¼ˆConfiguration Driftï¼‰** ã¯é¿ã‘ã‚‰ã‚Œãªã„å•é¡Œã§ã™ã€‚å¾“æ¥ã®ãƒ„ãƒ¼ãƒ«ï¼ˆ`driftctl`ãªã©ï¼‰ã¯å®šæœŸçš„ãªã‚¹ã‚­ãƒ£ãƒ³ã—ã‹ã§ããšã€å¤‰æ›´ã‹ã‚‰æ¤œçŸ¥ã¾ã§ã‚¿ã‚¤ãƒ ãƒ©ã‚°ãŒã‚ã‚Šã¾ã™ã€‚

ãã“ã§ã€**Falcoã®ãƒ©ãƒ³ã‚¿ã‚¤ãƒ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç›£è¦–ã¨CloudTrailã‚¤ãƒ™ãƒ³ãƒˆã‚’çµ„ã¿åˆã‚ã›ã¦ã€Terraformã®è¨­å®šãƒ‰ãƒªãƒ•ãƒˆã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ¤œçŸ¥ã™ã‚‹OSS** ã‚’ä½œã‚Šã¾ã—ãŸã€‚

**ğŸ›°ï¸ TFDrift-Falco**
https://github.com/higakikeita/tfdrift-falco

ã“ã®è¨˜äº‹ã§ã¯ã€ã‚¢ã‚¤ãƒ‡ã‚¢ã‹ã‚‰å®Ÿè£…ã€OSSã¨ã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§ã®é“ã®ã‚Šã‚’ç´¹ä»‹ã—ã¾ã™ã€‚

---

## ç›®æ¬¡

1. [ãªãœä½œã£ãŸã®ã‹](#ãªãœä½œã£ãŸã®ã‹)
2. [æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®é•ã„](#æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®é•ã„)
3. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
4. [å®Ÿè£…ã®æµã‚Œ](#å®Ÿè£…ã®æµã‚Œ)
5. [OSSã¨ã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§](#ossã¨ã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§)
6. [ä»Šå¾Œã®å±•é–‹](#ä»Šå¾Œã®å±•é–‹)

---

## ãªãœä½œã£ãŸã®ã‹

### å¾“æ¥ã®èª²é¡Œ

Terraformã§ç®¡ç†ã•ã‚ŒãŸã‚¤ãƒ³ãƒ•ãƒ©ã«å¯¾ã—ã¦ã€AWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚„CLIã§ç›´æ¥å¤‰æ›´ãŒåŠ ãˆã‚‰ã‚Œã‚‹ã¨ã€IaCã¨ã®ä¹–é›¢ï¼ˆDriftï¼‰ãŒç™ºç”Ÿã—ã¾ã™ã€‚

**å¾“æ¥ã®ãƒ‰ãƒªãƒ•ãƒˆæ¤œçŸ¥ãƒ„ãƒ¼ãƒ«ã®å•é¡Œç‚¹ï¼š**

| ãƒ„ãƒ¼ãƒ« | æ–¹å¼ | å•é¡Œç‚¹ |
|--------|------|--------|
| `terraform plan` | æ‰‹å‹•å®Ÿè¡Œ | æ¯å›å®Ÿè¡ŒãŒå¿…è¦ã€è‡ªå‹•åŒ–ãŒæ‰‹é–“ |
| `driftctl` | å®šæœŸã‚¹ã‚­ãƒ£ãƒ³ | ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§ãªã—ã€æ¤œçŸ¥ã¾ã§ã‚¿ã‚¤ãƒ ãƒ©ã‚° |
| `tfsec` | é™çš„è§£æ | ã‚³ãƒ¼ãƒ‰ã®ã¿ã€å®Ÿç’°å¢ƒã¨ã®ä¹–é›¢ã¯æ¤œçŸ¥ä¸å¯ |

### TFDrift-Falcoã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ

```
èª°ã‹ãŒAWSã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§EC2ã®å‰Šé™¤ä¿è­·ã‚’ç„¡åŠ¹åŒ–
    â†“
CloudTrailã‚¤ãƒ™ãƒ³ãƒˆ "ModifyInstanceAttribute" ã‚’å³åº§ã«ã‚­ãƒ£ãƒƒãƒ
    â†“
Terraform Stateã¨æ¯”è¼ƒ
    â†“
Slackã«å³åº§ã«ã‚¢ãƒ©ãƒ¼ãƒˆï¼ˆèª°ãŒãƒ»ä½•ã‚’ãƒ»ã„ã¤å¤‰æ›´ã—ãŸã‹ï¼‰
```

**ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥ + ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ** ã‚’å®Ÿç¾ã—ã¾ã™ã€‚

---

## æ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®é•ã„

| ç‰¹å¾´ | TFDrift-Falco | driftctl | Terraform Cloud |
|------|---------------|----------|----------------|
| **æ¤œçŸ¥é€Ÿåº¦** | âš¡ ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ  | â±ï¸ å®šæœŸã‚¹ã‚­ãƒ£ãƒ³ | â±ï¸ å®šæœŸå®Ÿè¡Œ |
| **ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•** | âœ… CloudTrail/Falco | âŒ | âŒ |
| **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç‰¹å®š** | âœ… IAMæƒ…å ±ä»˜ã | âŒ | âŒ |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£çµ±åˆ** | âœ… Falcoé€£æº | âŒ | âŒ |
| **é€šçŸ¥** | âœ… Slack/Discord | âš ï¸ é™å®šçš„ | âœ… VCSé€£æº |
| **ã‚³ã‚¹ãƒˆ** | ğŸ’° OSSï¼ˆç„¡æ–™ï¼‰ | ğŸ’° OSSï¼ˆç„¡æ–™ï¼‰ | ğŸ’°ğŸ’° æœ‰æ–™ãƒ—ãƒ©ãƒ³å¿…é ˆ |

---

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚·ã‚¹ãƒ†ãƒ æ§‹æˆå›³

```mermaid
graph TB
    A[AWS API Call] --> B[CloudTrail]
    C[Falco Agent] --> D[TFDrift-Falco]
    B --> D
    E[Terraform State] --> D

    D --> F{Driftæ¤œçŸ¥}
    F -->|Yes| G[Slacké€šçŸ¥]
    F -->|Yes| H[Discordé€šçŸ¥]
    F -->|Yes| I[Falco Output]
    F -->|No| J[Log Only]
```

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ

| ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ | å½¹å‰² |
|----------------|------|
| **CloudTrail Collector** | AWSã‚¤ãƒ™ãƒ³ãƒˆã‚’SQS/S3ã‹ã‚‰åé›† |
| **Terraform State Manager** | Stateãƒ•ã‚¡ã‚¤ãƒ«ã‚’å®šæœŸçš„ã«èª­ã¿è¾¼ã¿ãƒ»ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ– |
| **Drift Detector** | ã‚¤ãƒ™ãƒ³ãƒˆã¨Stateã‚’æ¯”è¼ƒã€ãƒ«ãƒ¼ãƒ«ã‚¨ãƒ³ã‚¸ãƒ³ã§è©•ä¾¡ |
| **Notifier** | Slack/Discord/Webhook/Falcoå‡ºåŠ›ã«é€šçŸ¥ |
| **Diff Formatter** | å·®åˆ†ã‚’è¤‡æ•°å½¢å¼ã§è¡¨ç¤ºï¼ˆConsole/Unified/Markdownï¼‰ |

---

## å®Ÿè£…ã®æµã‚Œ

### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
tfdrift-falco/
â”œâ”€â”€ cmd/
â”‚   â”œâ”€â”€ tfdrift/         # ãƒ¡ã‚¤ãƒ³CLI
â”‚   â””â”€â”€ test-drift/      # ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ 
â”œâ”€â”€ pkg/
â”‚   â”œâ”€â”€ cloudtrail/      # CloudTrailã‚¤ãƒ™ãƒ³ãƒˆåé›†
â”‚   â”œâ”€â”€ terraform/       # Terraform Stateç®¡ç†
â”‚   â”œâ”€â”€ detector/        # ãƒ‰ãƒªãƒ•ãƒˆæ¤œçŸ¥ã‚¨ãƒ³ã‚¸ãƒ³
â”‚   â”œâ”€â”€ diff/            # å·®åˆ†ãƒ•ã‚©ãƒ¼ãƒãƒƒã‚¿ãƒ¼
â”‚   â”œâ”€â”€ notifier/        # é€šçŸ¥ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼
â”‚   â”œâ”€â”€ config/          # è¨­å®šç®¡ç†
â”‚   â””â”€â”€ types/           # å…±é€šå‹å®šç¾©
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ terraform/       # ãƒ†ã‚¹ãƒˆç”¨Terraformç’°å¢ƒ
â”‚   â””â”€â”€ terraform.tfstate # ã‚µãƒ³ãƒ—ãƒ«State
â””â”€â”€ docs/                # ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
```

### 2. å¾ªç’°ä¾å­˜ã®è§£æ±º

åˆå›ãƒ“ãƒ«ãƒ‰æ™‚ã€`detector` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ `cloudtrail` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸é–“ã§å¾ªç’°ä¾å­˜ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚

**å•é¡Œ:**
```
detector â†’ cloudtrail â†’ detector (å¾ªç’°!)
```

**è§£æ±ºç­–:**
å…±æœ‰å‹ã‚’ `pkg/types/` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«åˆ†é›¢

```go
// pkg/types/types.go
type Event struct {
    Provider     string
    EventName    string
    ResourceType string
    ResourceID   string
    UserIdentity UserIdentity
    Changes      map[string]interface{}
}

type DriftAlert struct {
    Severity     string
    ResourceType string
    ResourceID   string
    OldValue     interface{}
    NewValue     interface{}
    UserIdentity UserIdentity
}
```

ã“ã‚Œã«ã‚ˆã‚Šã€ä¸¡ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒ `types` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã¿ã«ä¾å­˜ã™ã‚‹æ§‹é€ ã«å¤‰æ›´ã—ã¾ã—ãŸã€‚

### 3. å·®åˆ†è¡¨ç¤ºã®å®Ÿè£…

Terraformã‚³ãƒ¼ãƒ‰ã¨ã®å·®åˆ†ã‚’è¦–è¦šçš„ã«è¡¨ç¤ºã™ã‚‹ãŸã‚ã€è¤‡æ•°ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’å®Ÿè£…ï¼š

#### Consoleå½¢å¼ï¼ˆã‚«ãƒ©ãƒ¼ä»˜ãï¼‰

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš¨ DRIFT DETECTED: aws_instance.webserver
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Severity: CRITICAL

ğŸ“¦ Resource:
  Type:       aws_instance
  Name:       webserver
  ID:         i-0abcd1234efgh5678

ğŸ”„ Changed Attribute:
  disable_api_termination

ğŸ“ Value Change:
  - true  â†’  + false

ğŸ‘¤ Changed By:
  User:       admin-user@example.com
  Type:       IAMUser
  Account:    123456789012

â° Timestamp:
  2025-01-15T10:35:10Z
```

#### Unified Diffï¼ˆGitå½¢å¼ï¼‰

```diff
--- terraform/aws_instance.webserver	(Terraform State)
+++ runtime/aws_instance.webserver	(Actual Configuration)
@@ -1,1 +1,1 @@
-true
+false
```

#### Markdownå½¢å¼ï¼ˆSlack/GitHubç”¨ï¼‰

````markdown
## ğŸš¨ Drift Detected: `aws_instance.webserver`

**Severity:** ğŸ”´ **CRITICAL**

**Changed Attribute:** `disable_api_termination`

### Value Change

```diff
- true
+ false
```

### Changed By

- **User:** admin-user@example.com
- **Account:** 123456789012
````

### 4. ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ§‹ç¯‰

å®Ÿéš›ã®AWSãƒªã‚½ãƒ¼ã‚¹ã§ãƒ†ã‚¹ãƒˆã™ã‚‹ãŸã‚ã€Terraformã§æ¤œè¨¼ç’°å¢ƒã‚’ç”¨æ„ï¼š

**ä½œæˆãƒªã‚½ãƒ¼ã‚¹:**
- VPC + Public Subnet
- EC2ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ï¼ˆt2.microã€termination protectionæœ‰åŠ¹ï¼‰
- S3ãƒã‚±ãƒƒãƒˆï¼ˆæš—å·åŒ–ãƒ»ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°æœ‰åŠ¹ï¼‰
- IAMãƒ­ãƒ¼ãƒ«

**ã‚³ã‚¹ãƒˆè¦‹ç©ã‚‚ã‚Š:** æœˆ$0-10ï¼ˆFree Tieråˆ©ç”¨æ™‚ã¯ã»ã¼ç„¡æ–™ï¼‰

---

## OSSã¨ã—ã¦å…¬é–‹ã™ã‚‹ã¾ã§

å˜ãªã‚‹ã€Œå€‹äººé–‹ç™ºã€ã‹ã‚‰ã€ŒOSSãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã«ã™ã‚‹ãŸã‚ã€ä»¥ä¸‹ã®ã‚¬ãƒãƒŠãƒ³ã‚¹ã‚’æ•´å‚™ã—ã¾ã—ãŸã€‚

### 1. ãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã¨è¦ç´„

| ãƒ•ã‚¡ã‚¤ãƒ« | ç›®çš„ |
|----------|------|
| `LICENSE` | MIT Licenseï¼ˆæ³•çš„å®‰å¿ƒæ„Ÿï¼‰ |
| `CODE_OF_CONDUCT.md` | Contributor Covenant 2.1ï¼ˆã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£è¡Œå‹•è¦ç¯„ï¼‰ |
| `CONTRIBUTING.md` | PR/Issueæ‰‹é †ã€é–‹ç™ºã‚¬ã‚¤ãƒ‰ãƒ©ã‚¤ãƒ³ |
| `SECURITY.md` | è„†å¼±æ€§å ±å‘Šãƒ—ãƒ­ã‚»ã‚¹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£OSSã«ã¯å¿…é ˆï¼‰ |

### 2. Issue/PRãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ

GitHubã§ `.github/ISSUE_TEMPLATE/` ã‚’ä½œæˆã—ã€æµ·å¤–ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚¿ãŒå‚åŠ ã—ã‚„ã™ã„ç’°å¢ƒã‚’æ•´å‚™ï¼š

- `bug_report.yml` - ãƒã‚°å ±å‘Šãƒ•ã‚©ãƒ¼ãƒ 
- `feature_request.yml` - æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ•ã‚©ãƒ¼ãƒ 
- `PULL_REQUEST_TEMPLATE.md` - PR ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### 3. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

**SECURITY.md ã«è¨˜è¼‰ã—ãŸå†…å®¹:**

- 48æ™‚é–“ä»¥å†…ã®åˆå›å¿œç­”SLA
- Terraform Stateã€CloudTrailã€èªè¨¼æƒ…å ±ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
- æœ€å°æ¨©é™IAMãƒãƒªã‚·ãƒ¼ã®ä¾‹
- è„†å¼±æ€§å ±å‘Šã®Hall of Fame

**ä¾‹: æœ€å°æ¨©é™IAMãƒãƒªã‚·ãƒ¼**

```json
{
  "Version": "2012-10-17",
  "Statement": [
    {
      "Effect": "Allow",
      "Action": [
        "s3:GetObject",
        "sqs:ReceiveMessage",
        "sqs:DeleteMessage"
      ],
      "Resource": [
        "arn:aws:s3:::your-cloudtrail-bucket/*",
        "arn:aws:sqs:*:*:cloudtrail-events"
      ]
    }
  ]
}
```

### 4. READMEã®è¨­è¨ˆ

**ãƒã‚¤ãƒªãƒ³ã‚¬ãƒ«å¯¾å¿œï¼ˆè‹±èª/æ—¥æœ¬èªï¼‰** ã§ã€ä»¥ä¸‹ã®æ§‹æˆã«ï¼š

1. **What** - ä½•ãŒã§ãã‚‹ã‹ï¼ˆå›³è§£ä»˜ãï¼‰
2. **How** - ä½¿ã„æ–¹ï¼ˆQuick Startï¼‰
3. **Why** - ãªãœå¿…è¦ã‹ï¼ˆæ—¢å­˜ãƒ„ãƒ¼ãƒ«ã¨ã®æ¯”è¼ƒï¼‰
4. **Roadmap** - ä»Šå¾Œã®å±•é–‹

### 5. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ•´å‚™

```
docs/
â”œâ”€â”€ architecture.md      # ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è©³ç´°
â”œâ”€â”€ diff-formats.md      # å·®åˆ†è¡¨ç¤ºå½¢å¼ã®èª¬æ˜
â”œâ”€â”€ configuration.md     # è¨­å®šã‚¬ã‚¤ãƒ‰ï¼ˆäºˆå®šï¼‰
â””â”€â”€ deployment.md        # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¬ã‚¤ãƒ‰ï¼ˆäºˆå®šï¼‰
```

---

## å‹•ä½œç¢ºèª

### ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ª

ãƒ†ã‚¹ãƒˆãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆ`cmd/test-drift`ï¼‰ã§3ã¤ã®ãƒ‰ãƒªãƒ•ãƒˆã‚·ãƒŠãƒªã‚ªã‚’æ¤œè¨¼ï¼š

1. **EC2å‰Šé™¤ä¿è­·ã®å¤‰æ›´**ï¼ˆCRITICALï¼‰
2. **S3æš—å·åŒ–ã®å‰Šé™¤**ï¼ˆCRITICALï¼‰
3. **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚¿ã‚¤ãƒ—ã®å¤‰æ›´**ï¼ˆHIGHï¼‰

### å®Ÿè¡Œçµæœ

```bash
$ go run ./cmd/test-drift

ğŸ§ª TFDrift-Falco Test - Drift Detection Simulation
============================================================

ğŸ“‹ Test Case 1: EC2 Instance Termination Protection Changed
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš¨ DRIFT DETECTED: aws_instance.webserver
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“Š Severity: CRITICAL

ğŸ”„ Changed Attribute:
  disable_api_termination

ğŸ“ Value Change:
  - true  â†’  + false

ğŸ‘¤ Changed By:
  User:       admin-user@example.com
  Type:       IAMUser
  Account:    123456789012
```

ã™ã¹ã¦ã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆï¼ˆConsoleã€Unified Diffã€Side-by-Sideã€Markdownï¼‰ãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚

---

## ä»Šå¾Œã®å±•é–‹

### Phase 1: MVPï¼ˆç¾åœ¨ï¼‰

- [x] AWS CloudTrailçµ±åˆã®éª¨çµ„ã¿
- [x] Terraform Stateæ¯”è¼ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ï¼‰
- [x] å·®åˆ†è¡¨ç¤ºãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå®Ÿè£…
- [x] ãƒ†ã‚¹ãƒˆç’°å¢ƒã®æ§‹ç¯‰
- [x] OSSã‚¬ãƒãƒŠãƒ³ã‚¹æ•´å‚™
- [ ] å®Ÿéš›ã®CloudTrailé€£æºï¼ˆé–‹ç™ºä¸­ï¼‰
- [ ] Falcoã‚¤ãƒ™ãƒ³ãƒˆçµ±åˆ
- [ ] Slack/Discordé€šçŸ¥ã®å®Ÿè£…

### Phase 2: æ©Ÿèƒ½æ‹¡å¼µ

- [ ] GCP Audit Logså¯¾å¿œ
- [ ] Azure Activity Logså¯¾å¿œ
- [ ] Terraform Cloud/Enterpriseçµ±åˆ
- [ ] ãƒªãƒ¢ãƒ¼ãƒˆStateãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ï¼ˆS3/GCSï¼‰
- [ ] ã‚«ã‚¹ã‚¿ãƒ ãƒ«ãƒ¼ãƒ«DSL

### Phase 3: ã‚¨ãƒ³ã‚¿ãƒ¼ãƒ—ãƒ©ã‚¤ã‚ºå¯¾å¿œ

- [ ] Webãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ UI
- [ ] æ©Ÿæ¢°å­¦ç¿’ãƒ™ãƒ¼ã‚¹ã®ç•°å¸¸æ¤œçŸ¥
- [ ] è‡ªå‹•ä¿®å¾©ã‚¢ã‚¯ã‚·ãƒ§ãƒ³
- [ ] Policy-as-Codeçµ±åˆï¼ˆOPA/Regoï¼‰
- [ ] ãƒãƒ«ãƒã‚¢ã‚«ã‚¦ãƒ³ãƒˆ/ãƒãƒ«ãƒOrgå¯¾å¿œ

---

## ã¾ã¨ã‚

**TFDrift-Falco** ã¯ã€Terraformã®è¨­å®šãƒ‰ãƒªãƒ•ãƒˆã‚’ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§æ¤œçŸ¥ã—ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä»˜ãã§ã‚¢ãƒ©ãƒ¼ãƒˆã™ã‚‹OSSã§ã™ã€‚

### ç‰¹å¾´

âœ… **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ¤œçŸ¥** - CloudTrail/Falcoã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•
âœ… **ãƒ¦ãƒ¼ã‚¶ãƒ¼ç‰¹å®š** - IAMãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ä»˜ã
âœ… **æŸ”è»Ÿãªé€šçŸ¥** - Slack/Discord/Webhook/Falcoå‡ºåŠ›
âœ… **è¦–è¦šçš„ãªå·®åˆ†è¡¨ç¤º** - è¤‡æ•°ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆå¯¾å¿œ
âœ… **OSS** - MIT Licenseã€èª°ã§ã‚‚åˆ©ç”¨ãƒ»è²¢çŒ®å¯èƒ½

### ã“ã‚“ãªæ–¹ã«ãŠã™ã™ã‚

- ã€ŒTerraformã§ç®¡ç†ã—ã¦ã‚‹ã®ã«ã€æ‰‹å‹•å¤‰æ›´ãŒçµ¶ãˆãªã„...ã€
- ã€Œèª°ãŒã„ã¤å¤‰æ›´ã—ãŸã‹è¿½è·¡ã—ãŸã„ã€
- ã€Œã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆæ™‚ã®åˆå‹•ã‚’é€Ÿã‚ãŸã„ã€
- ã€ŒGitOpsæ–‡åŒ–ã‚’å¾¹åº•ã—ãŸã„ã€

### ãƒªãƒ³ã‚¯

- **GitHub**: https://github.com/higakikeita/tfdrift-falco
- **ä½œè€…X**: [@keitah0322](https://x.com/keitah0322)
- **ä½œè€…Qiita**: [@keitah](https://qiita.com/keitah)

---

## ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯å‹Ÿé›†ä¸­ï¼

TFDrift-Falcoã¯ã¾ã é–‹ç™ºåˆæœŸæ®µéšã§ã™ã€‚

- â­ **GitHubã§Star**ã—ã¦ã„ãŸã ã‘ã‚‹ã¨åŠ±ã¿ã«ãªã‚Šã¾ã™
- ğŸ› **ãƒã‚°å ±å‘Šãƒ»æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆ**ã¯[Issues](https://github.com/higakikeita/tfdrift-falco/issues)ã¸
- ğŸ’¬ **è³ªå•ãƒ»è­°è«–**ã¯[Discussions](https://github.com/higakikeita/tfdrift-falco/discussions)ã§
- ğŸ¤ **ã‚³ãƒ³ãƒˆãƒªãƒ“ãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³**å¤§æ­“è¿ï¼

ç‰¹ã«ã€ä»¥ä¸‹ã®åˆ†é‡ã§å”åŠ›è€…ã‚’å‹Ÿé›†ã—ã¦ã„ã¾ã™ï¼š

- GCP/Azureå¯¾å¿œã®å®Ÿè£…
- Falco pluginé–‹ç™º
- UI/UXãƒ‡ã‚¶ã‚¤ãƒ³
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç¿»è¨³
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼

---

**ä¸€ç·’ã«ã‚ˆã‚Šè‰¯ã„IaCé‹ç”¨ã®æœªæ¥ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ï¼**

---

## å‚è€ƒè³‡æ–™

- [Falcoå…¬å¼ã‚µã‚¤ãƒˆ](https://falco.org/)
- [Terraformå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://www.terraform.io/docs)
- [AWS CloudTrail](https://aws.amazon.com/cloudtrail/)
- [driftctl](https://github.com/snyk/driftctl)
- [Contributor Covenant](https://www.contributor-covenant.org/)
